{% extends "./floorplan/floorplan.json" %}


{% block context %}
        {
            "coord": "https://comp-rob2b.github.io/metamodels/geometry/coordinates#",
            "coordinate": "https://secorolab.github.io/metamodels/coordinates#",
            "geor": "https://comp-rob2b.github.io/metamodels/geometry/spatial-relations#",
            "geom": "https://comp-rob2b.github.io/metamodels/geometry/structural-entities#"
        },
        "https://comp-rob2b.github.io/metamodels/qudt.json",
        "https://comp-rob2b.github.io/metamodels/geometry/coordinates.json",
        "https://secorolab.github.io/metamodels/geometry/coordinate-extension.json"
{% endblock%}

{% block space %}
    {% set pose = space.pose %}
    {% include "./geometry/coordinate/pose.json" with context %},
    {% for position in space.shape_position_coords %}
    {% include "./geometry/coordinate/position.json" with context %},
    {% endfor %}
    {% for pose in space.wall_pose_coords %}
    {% include "./geometry/coordinate/pose.json" with context %},
    {% endfor %}
{% endblock %}

{% block wall %}
{% set outer_loop = loop %}
{% for position in w.point_positions %}
    {% include "./geometry/coordinate/position.json" with context %}{% if not loop.last %},
    {% endif %}
{% endfor %}{% if not outer_loop.last %},
    {% endif %}
{% endblock %}

{% block feature %}
    {% set pose = f.pose %}
    {% include "./geometry/coordinate/pose.json" with context %},
    {% for position in f.shape_position_coords %}
    {% include "./geometry/coordinate/position.json" with context %}
{% if not loop.last %},
    {% endif %}
    {% endfor %}
{% endblock %}

{% block opening %}
    {% set pose = o.pose %}
    {% include "./geometry/coordinate/pose.json" with context %},
    {% for position in o.shape_position_coords %}
    {% include "./geometry/coordinate/position.json" with context %}
{% if not loop.last %},
    {% endif %}
    {% endfor %}
{% endblock %}